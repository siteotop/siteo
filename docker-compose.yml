## YAml
version: '3.7'

services:

    ############### SERVER
    ssrserver:
      container_name: siteotemplate
      networks:
        siteo_template_network:
         aliases:
          - siteotemplate.siteo_template_network

      build:
        context: ./
      #  dockerfile: ./docker/Dockerfile-webpack-dev
      expose:
        - "8080"
      #ports:
      #  - "8080:8080"
      volumes:
      #  - ../siteo_public/account:/app/public
        - ./dist:/app/dist
        - ./src:/app/src
        - ./build:/app/build
        - ./ssr:/app/ssr
        - ./public:/app/public
        #- ./dist:/app/dist
      entrypoint:
        - npm
        - run
        - server

      env_file: ./main.env


# network siteo_network must be  created
networks:
  siteo_template_network:
    external:
      name: siteo_network
